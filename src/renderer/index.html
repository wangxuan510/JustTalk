<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Voice to Text - Status Indicator</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: transparent;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 120px;
      height: 120px;
    }

    #indicator {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 40px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }

    /* ç›‘å¬çŠ¶æ€ - ç»¿è‰² */
    #indicator.listening {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      animation: pulse 2s infinite;
    }

    /* å¤„ç†çŠ¶æ€ - è“è‰² */
    #indicator.processing {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      animation: spin 1s linear infinite;
    }

    /* é”™è¯¯çŠ¶æ€ - çº¢è‰² */
    #indicator.error {
      background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
      animation: shake 0.5s;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.1);
        opacity: 0.8;
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes shake {
      0%, 100% {
        transform: translateX(0);
      }
      25% {
        transform: translateX(-10px);
      }
      75% {
        transform: translateX(10px);
      }
    }
  </style>
</head>
<body>
  <div id="indicator" class="listening">ğŸ¤</div>
  <script>
    const { ipcRenderer } = require('electron');

    const indicator = document.getElementById('indicator');

    // ç›‘å¬çŠ¶æ€æ›´æ–°
    ipcRenderer.on('update-status', (event, status) => {
      // ç§»é™¤æ‰€æœ‰çŠ¶æ€ç±»
      indicator.className = '';
      
      // æ·»åŠ æ–°çŠ¶æ€ç±»å’Œå›¾æ ‡
      switch (status) {
        case 'listening':
          indicator.className = 'listening';
          indicator.textContent = 'ğŸ¤';
          break;
        case 'processing':
          indicator.className = 'processing';
          indicator.textContent = 'âš¡';
          break;
        case 'error':
          indicator.className = 'error';
          indicator.textContent = 'âŒ';
          break;
      }
    });
  </script>
</body>
</html>
